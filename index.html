<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="UTF-8">
<title>Subnet Calculator</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
* { box-sizing: border-box; }

body {
    font-family: "Segoe UI", Arial, sans-serif;
    background: #f5f7fa;
    margin: 0;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
}

.container {
    background: #ffffff;
    width: 100%;
    max-width: 540px;
    padding: 25px;
    border-radius: 10px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.15);
}

h1 {
    text-align: center;
    margin-bottom: 20px;
}

label {
    font-size: 14px;
    display: block;
}

input {
    width: 100%;
    padding: 10px;
    margin: 8px 0 15px;
    font-size: 15px;
}

button {
    padding: 10px 16px;
    font-size: 14px;
    background: #4CAF50;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}

button:hover {
    background: #43a047;
}

.calc-btn {
    width: 100%;
    margin-bottom: 10px;
}

.themes {
    text-align: center;
    margin-bottom: 10px;
}

.themes button {
    margin: 0 5px;
}

.result-box {
    border: 1px solid #aaa;
    padding: 12px;
    margin-top: 10px;
    font-family: Consolas, monospace;
    white-space: pre-line;
    color: #0033cc;
}

/* THEMES */
.dark {
    background: #1e1e1e;
}
.dark .container {
    background: #2c2c2c;
    color: white;
}
.dark input {
    background: #3a3a3a;
    color: white;
}
.dark .result-box {
    color: #9cdcfe;
}

.blue {
    background: #e3f2fd;
}
</style>

</head>

<body>

<div class="container">
    <h1>Subnet Calculator</h1>

```
<!-- âœ… Proper Label + Input -->
<label for="ipInput">Enter IP Address (with or without CIDR)</label>
<input 
    type="text"
    id="ipInput"
    placeholder="e.g. 192.168.10.2 or 192.168.10.2/16"
    aria-label="IP address input"
>

<button class="calc-btn" onclick="calculateSubnet()">Calculate</button>

<div class="themes">
    Theme:
    <button onclick="setTheme('light')">Light</button>
    <button onclick="setTheme('dark')">Dark</button>
    <button onclick="setTheme('blue')">Blue</button>
</div>

<div class="result-box" id="resultBox">Result</div>
```

</div>

<script>
function ipToInt(ip) {
    return ip.split('.').reduce((acc, oct) => (acc << 8) + parseInt(oct), 0) >>> 0;
}

function intToIp(int) {
    return [
        (int >>> 24) & 255,
        (int >>> 16) & 255,
        (int >>> 8) & 255,
        int & 255
    ].join('.');
}

function calculateSubnet() {
    let input = document.getElementById("ipInput").value.trim();
    const resultBox = document.getElementById("resultBox");

    if (!input) {
        alert("Enter IP address");
        return;
    }

    let cidr;

    if (!input.includes("/")) {
        const first = parseInt(input.split(".")[0]);
        if (first <= 126) cidr = 8;
        else if (first <= 191) cidr = 16;
        else if (first <= 223) cidr = 24;
        else {
            alert("Invalid IP");
            return;
        }
        input = input + "/" + cidr;
    }

    const [ip, maskStr] = input.split("/");
    cidr = parseInt(maskStr);

    const ipInt = ipToInt(ip);
    const mask = cidr === 0 ? 0 : (~0 << (32 - cidr)) >>> 0;

    const network = ipInt & mask;
    const broadcast = network | (~mask >>> 0);

    const firstHost = network + 1;
    const lastHost = broadcast - 1;

    resultBox.textContent =
`IP Used            : ${input}
Network Address    : ${intToIp(network)}
Broadcast Address  : ${intToIp(broadcast)}
Host Range         : ${intToIp(firstHost)} to ${intToIp(lastHost)}`;
}

function setTheme(theme) {
    document.body.className = "";
    if (theme !== "light") document.body.classList.add(theme);
}
</script>

</body>
</html>
